CREATE TABLE metadata(
dataset_name VARCHAR(32), 
observation_ID INTEGER PRIMARY KEY, 
date_time VARCHAR(32), 
measuring_area_type VARCHAR(32),
location_lat_long VARCHAR(32) NOT NULL,
datum_coordinate_system VARCHAR(32),
parameters_measured VARCHAR(32),
abstract VARCHAR(100),
platform_type VARCHAR(5),
device_type VARCHAR(5),
device_name VARCHAR(32),
station_name VARCHAR(32),
PI VARCHAR(32) NOT NULL,
station_start_ date_time VARCHAR(19),
station_end_ date_time VARCHAR(19),
language VARCHAR(4),
data_format VARCHAR(32),
data_format_version INTEGER,
data_file VARCHAR(64),
viewing_angle NUMERIC,
azimuth_angle INTEGER,
remark VARCHAR(32),
cloud_fraction VARCHAR(32),
rain VARCHAR(3),
wind_waves NUMERIC,
surface_SD VARCHAR(32),
bottom INTEGER,
secchi_disk_type VARCHAR(32),
shadow INTEGER,
height NUMERIC,
FOREIGN KEY (observation_ID) REFERENCES observation(observation_ID),
FOREIGN KEY (device_type) REFERENCES metadata(device_type),
FOREIGN KEY (device_type) REFERENCES user(profile));
Observations
CREATE TABLE observation(
observation_ID VARCHAR(32) PRIMARY KEY, 
observation VARCHAR(32) NOT NULL, 
device_type VARCHAR(32) NOT NULL,
validation INTEGER(32),
FOREIGN KEY (observation_ID) REFERENCES metadata(observation_ID),
FOREIGN KEY (device_type) REFERENCES metadata(device_type),
FOREIGN KEY (device_type) REFERENCES user(profile));
User data
CREATE TABLE user(
PI VARCHAR(32) PRIMARY KEY, 
profile VARCHAR(32) NOT NULL, 
reputation NUMBERIC NOT NULL DEFAULT 0,
firstname VARCHAR(32), 
lastname VARCHAR(32), 
email VARCHAR(64),
age INTEGER,
gender VARCHAR(1),
city VARCHAR(32),
country VARCHAR(32),
work VARCHAR(32),
friends VARCHAR(64),
FOREIGN KEY (PI) REFERENCES metadata (PI),
FOREIGN KEY (profile) REFERENCES metadata (device_type),
FOREIGN KEY (profile) REFERENCES observation (device_type));
